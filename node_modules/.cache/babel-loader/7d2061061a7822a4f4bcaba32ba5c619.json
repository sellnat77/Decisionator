{"ast":null,"code":"\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n/**\n * Root reference for iframes.\n */\n\n\nlet root;\n\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn('Using browser-only version of superagent in non-browser environment');\n  root = void 0;\n} else {\n  // Web Worker\n  root = self;\n}\n\nconst Emitter = require('component-emitter');\n\nconst safeStringify = require('fast-safe-stringify');\n\nconst qs = require('qs');\n\nconst RequestBase = require('./request-base');\n\nconst _require = require('./utils'),\n      isObject = _require.isObject,\n      mixin = _require.mixin,\n      hasOwn = _require.hasOwn;\n\nconst ResponseBase = require('./response-base');\n\nconst Agent = require('./agent-base');\n/**\n * Noop.\n */\n\n\nfunction noop() {}\n/**\n * Expose `request`.\n */\n\n\nmodule.exports = function (method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  } // url first\n\n\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n};\n\nexports = module.exports;\nconst request = exports;\nexports.Request = Request;\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = () => {\n  if (root.XMLHttpRequest) {\n    return new root.XMLHttpRequest();\n  }\n\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\n\nconst trim = ''.trim ? s => s.trim() : s => s.replace(/(^\\s*|\\s*$)/g, '');\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(object) {\n  if (!isObject(object)) return object;\n  const pairs = [];\n\n  for (const key in object) {\n    if (hasOwn(object, key)) pushEncodedKeyValuePair(pairs, key, object[key]);\n  }\n\n  return pairs.join('&');\n}\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\n\nfunction pushEncodedKeyValuePair(pairs, key, value) {\n  if (value === undefined) return;\n\n  if (value === null) {\n    pairs.push(encodeURI(key));\n    return;\n  }\n\n  if (Array.isArray(value)) {\n    var _iterator = _createForOfIteratorHelper(value),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        const v = _step.value;\n        pushEncodedKeyValuePair(pairs, key, v);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (isObject(value)) {\n    for (const subkey in value) {\n      if (hasOwn(value, subkey)) pushEncodedKeyValuePair(pairs, \"\".concat(key, \"[\").concat(subkey, \"]\"), value[subkey]);\n    }\n  } else {\n    pairs.push(encodeURI(key) + '=' + encodeURIComponent(value));\n  }\n}\n/**\n * Expose serialization method.\n */\n\n\nrequest.serializeObject = serialize;\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(string_) {\n  const object = {};\n  const pairs = string_.split('&');\n  let pair;\n  let pos;\n\n  for (let i = 0, length_ = pairs.length; i < length_; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n\n    if (pos === -1) {\n      object[decodeURIComponent(pair)] = '';\n    } else {\n      object[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return object;\n}\n/**\n * Expose parser.\n */\n\n\nrequest.parseString = parseString;\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': qs.stringify,\n  'application/json': safeStringify\n};\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(string_) {\n  const lines = string_.split(/\\r?\\n/);\n  const fields = {};\n  let index;\n  let line;\n  let field;\n  let value;\n\n  for (let i = 0, length_ = lines.length; i < length_; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n\n    field = line.slice(0, index).toLowerCase();\n    value = trim(line.slice(index + 1));\n    fields[field] = value;\n  }\n\n  return fields;\n}\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/i.test(mime);\n}\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\n\nfunction Response(request_) {\n  this.req = request_;\n  this.xhr = this.req.xhr; // responseText is accessible only if responseType is '' or 'text' and on older browsers\n\n  this.text = this.req.method !== 'HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text') || typeof this.xhr.responseType === 'undefined' ? this.xhr.responseText : null;\n  this.statusText = this.req.xhr.statusText;\n  let status = this.xhr.status; // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n\n  if (status === 1223) {\n    status = 204;\n  }\n\n  this._setStatusProperties(status);\n\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers; // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n\n  this._setHeaderProperties(this.header);\n\n  if (this.text === null && request_._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method === 'HEAD' ? null : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n}\n\nmixin(Response.prototype, ResponseBase.prototype);\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function (string_) {\n  let parse = request.parse[this.type];\n\n  if (this.req._parser) {\n    return this.req._parser(this, string_);\n  }\n\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n\n  return parse && string_ && (string_.length > 0 || string_ instanceof Object) ? parse(string_) : null;\n};\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\n\nResponse.prototype.toError = function () {\n  const req = this.req;\n  const method = req.method;\n  const url = req.url;\n  const message = \"cannot \".concat(method, \" \").concat(url, \" (\").concat(this.status, \")\");\n  const error = new Error(message);\n  error.status = this.status;\n  error.method = method;\n  error.url = url;\n  return error;\n};\n/**\n * Expose `Response`.\n */\n\n\nrequest.Response = Response;\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  const self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n\n  this._header = {}; // coerces header names to lowercase\n\n  this.on('end', () => {\n    let error = null;\n    let res = null;\n\n    try {\n      res = new Response(self);\n    } catch (err) {\n      error = new Error('Parser is unable to parse the response');\n      error.parse = true;\n      error.original = err; // issue #675: return the raw response if the response parsing fails\n\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        error.rawResponse = typeof self.xhr.responseType === 'undefined' ? self.xhr.responseText : self.xhr.response; // issue #876: return the http status code if the response parsing fails\n\n        error.status = self.xhr.status ? self.xhr.status : null;\n        error.statusCode = error.status; // backwards-compat only\n      } else {\n        error.rawResponse = null;\n        error.status = null;\n      }\n\n      return self.callback(error);\n    }\n\n    self.emit('response', res);\n    let new_error;\n\n    try {\n      if (!self._isResponseOK(res)) {\n        new_error = new Error(res.statusText || res.text || 'Unsuccessful HTTP response');\n      }\n    } catch (err) {\n      new_error = err; // ok() callback can throw\n    } // #1000 don't catch errors from the callback to avoid double calling it\n\n\n    if (new_error) {\n      new_error.original = error;\n      new_error.response = res;\n      new_error.status = new_error.status || res.status;\n      self.callback(new_error, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n// eslint-disable-next-line new-cap\n\n\nEmitter(Request.prototype);\nmixin(Request.prototype, RequestBase.prototype);\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.auth = function (user, pass, options) {\n  if (arguments.length === 1) pass = '';\n\n  if (typeof pass === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n\n  const encoder = options.encoder ? options.encoder : string => {\n    if (typeof btoa === 'function') {\n      return btoa(string);\n    }\n\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n  return this._auth(user, pass, options, encoder);\n};\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.query = function (value) {\n  if (typeof value !== 'string') value = serialize(value);\n  if (value) this._query.push(value);\n  return this;\n};\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.attach = function (field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n\n  return this;\n};\n\nRequest.prototype._getFormData = function () {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n\n  return this._formData;\n};\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\n\nRequest.prototype.callback = function (error, res) {\n  if (this._shouldRetry(error, res)) {\n    return this._retry();\n  }\n\n  const fn = this._callback;\n  this.clearTimeout();\n\n  if (error) {\n    if (this._maxRetries) error.retries = this._retries - 1;\n    this.emit('error', error);\n  }\n\n  fn(error, res);\n};\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\n\nRequest.prototype.crossDomainError = function () {\n  const error = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  error.crossDomain = true;\n  error.status = this.status;\n  error.method = this.method;\n  error.url = this.url;\n  this.callback(error);\n}; // This only warns, because the request is still likely to work\n\n\nRequest.prototype.agent = function () {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\n\nRequest.prototype.ca = Request.prototype.agent;\nRequest.prototype.buffer = Request.prototype.ca; // This throws, because it can't send/receive data as expected\n\nRequest.prototype.write = () => {\n  throw new Error('Streaming is not supported in browser version of superagent');\n};\n\nRequest.prototype.pipe = Request.prototype.write;\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\n\nRequest.prototype._isHost = function (object) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return object && typeof object === 'object' && !Array.isArray(object) && Object.prototype.toString.call(object) !== '[object Object]';\n};\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.end = function (fn) {\n  if (this._endCalled) {\n    console.warn('Warning: .end() was called twice. This is not supported in superagent');\n  }\n\n  this._endCalled = true; // store callback\n\n  this._callback = fn || noop; // querystring\n\n  this._finalizeQueryString();\n\n  this._end();\n};\n\nRequest.prototype._setUploadTimeout = function () {\n  const self = this; // upload timeout it's wokrs only if deadline timeout is off\n\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(() => {\n      self._timeoutError('Upload timeout of ', self._uploadTimeout, 'ETIMEDOUT');\n    }, this._uploadTimeout);\n  }\n}; // eslint-disable-next-line complexity\n\n\nRequest.prototype._end = function () {\n  if (this._aborted) return this.callback(new Error('The request has been aborted even before .end() was called'));\n  const self = this;\n  this.xhr = request.getXHR();\n  const xhr = this.xhr;\n  let data = this._formData || this._data;\n\n  this._setTimeouts(); // state change\n\n\n  xhr.addEventListener('readystatechange', () => {\n    const readyState = xhr.readyState;\n\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n\n    if (readyState !== 4) {\n      return;\n    } // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n\n\n    let status;\n\n    try {\n      status = xhr.status;\n    } catch (err) {\n      status = 0;\n    }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n\n    self.emit('end');\n  }); // progress\n\n  const handleProgress = (direction, e) => {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n\n      if (xhr.upload) {\n        xhr.upload.addEventListener('progress', handleProgress.bind(null, 'upload'));\n      }\n    } catch (err) {// Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  } // initiate request\n\n\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  } // CORS\n\n\n  if (this._withCredentials) xhr.withCredentials = true; // body\n\n  if (!this._formData && this.method !== 'GET' && this.method !== 'HEAD' && typeof data !== 'string' && !this._isHost(data)) {\n    // serialize stuff\n    const contentType = this._header['content-type'];\n    let serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n\n    if (serialize) data = serialize(data);\n  } // set header fields\n\n\n  for (const field in this.header) {\n    if (this.header[field] === null) continue;\n    if (hasOwn(this.header, field)) xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  } // send stuff\n\n\n  this.emit('request', this); // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\n\nrequest.agent = () => new Agent();\n\nfor (var _i = 0, _arr = ['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE']; _i < _arr.length; _i++) {\n  const method = _arr[_i];\n\n  Agent.prototype[method.toLowerCase()] = function (url, fn) {\n    const request_ = new request.Request(method, url);\n\n    this._setDefaults(request_);\n\n    if (fn) {\n      request_.end(fn);\n    }\n\n    return request_;\n  };\n}\n\nAgent.prototype.del = Agent.prototype.delete;\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = (url, data, fn) => {\n  const request_ = request('GET', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.query(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.head = (url, data, fn) => {\n  const request_ = request('HEAD', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.query(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.options = (url, data, fn) => {\n  const request_ = request('OPTIONS', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nfunction del(url, data, fn) {\n  const request_ = request('DELETE', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n}\n\nrequest.del = del;\nrequest.delete = del;\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = (url, data, fn) => {\n  const request_ = request('PATCH', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.post = (url, data, fn) => {\n  const request_ = request('POST', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.put = (url, data, fn) => {\n  const request_ = request('PUT', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};","map":{"version":3,"mappings":"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","names":["root","window","self","console","warn","Emitter","require","safeStringify","qs","RequestBase","isObject","mixin","hasOwn","ResponseBase","Agent","noop","module","exports","method","url","Request","end","arguments","length","request","getXHR","XMLHttpRequest","Error","trim","s","replace","serialize","object","pairs","key","pushEncodedKeyValuePair","join","value","undefined","push","encodeURI","Array","isArray","v","_iterator","subkey","encodeURIComponent","serializeObject","parseString","string_","split","pair","pos","i","length_","indexOf","decodeURIComponent","slice","types","html","json","xml","urlencoded","form","stringify","parse","JSON","parseHeader","lines","fields","index","line","field","toLowerCase","isJSON","mime","test","Response","request_","req","xhr","text","responseType","responseText","statusText","status","_setStatusProperties","headers","getAllResponseHeaders","header","getResponseHeader","_setHeaderProperties","_responseType","body","response","_parseBody","prototype","type","_parser","Object","toError","message","error","_query","_header","on","res","err","original","rawResponse","statusCode","callback","emit","new_error","_isResponseOK","set","accept","auth","user","pass","options","btoa","encoder","string","_auth","query","attach","file","_data","_getFormData","append","name","_formData","FormData","_shouldRetry","_retry","fn","_callback","clearTimeout","_maxRetries","retries","_retries","crossDomainError","crossDomain","agent","ca","buffer","write","pipe","_isHost","toString","call","_endCalled","_finalizeQueryString","_end","_setUploadTimeout","_uploadTimeout","_uploadTimeoutTimer","setTimeout","_timeoutError","_aborted","data","_setTimeouts","addEventListener","readyState","_responseTimeoutTimer","timedout","handleProgress","direction","e","total","percent","loaded","hasListeners","bind","upload","username","password","open","_withCredentials","withCredentials","contentType","_serializer","setRequestHeader","send","_setDefaults","del","delete","get","head","patch","post","put"],"sources":["/home/russell/git/Decisionator/node_modules/superagent/src/client.js"],"sourcesContent":["/**\n * Root reference for iframes.\n */\n\nlet root;\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn(\n    'Using browser-only version of superagent in non-browser environment'\n  );\n  root = this;\n} else {\n  // Web Worker\n  root = self;\n}\n\nconst Emitter = require('component-emitter');\nconst safeStringify = require('fast-safe-stringify');\nconst qs = require('qs');\nconst RequestBase = require('./request-base');\nconst { isObject, mixin, hasOwn } = require('./utils');\nconst ResponseBase = require('./response-base');\nconst Agent = require('./agent-base');\n\n/**\n * Noop.\n */\n\nfunction noop() {}\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = function (method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n};\n\nexports = module.exports;\n\nconst request = exports;\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = () => {\n  if (root.XMLHttpRequest) {\n    return new root.XMLHttpRequest();\n  }\n\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nconst trim = ''.trim ? (s) => s.trim() : (s) => s.replace(/(^\\s*|\\s*$)/g, '');\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(object) {\n  if (!isObject(object)) return object;\n  const pairs = [];\n  for (const key in object) {\n    if (hasOwn(object, key)) pushEncodedKeyValuePair(pairs, key, object[key]);\n  }\n\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, value) {\n  if (value === undefined) return;\n  if (value === null) {\n    pairs.push(encodeURI(key));\n    return;\n  }\n\n  if (Array.isArray(value)) {\n    for (const v of value) {\n      pushEncodedKeyValuePair(pairs, key, v);\n    }\n  } else if (isObject(value)) {\n    for (const subkey in value) {\n      if (hasOwn(value, subkey))\n        pushEncodedKeyValuePair(pairs, `${key}[${subkey}]`, value[subkey]);\n    }\n  } else {\n    pairs.push(encodeURI(key) + '=' + encodeURIComponent(value));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(string_) {\n  const object = {};\n  const pairs = string_.split('&');\n  let pair;\n  let pos;\n\n  for (let i = 0, length_ = pairs.length; i < length_; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos === -1) {\n      object[decodeURIComponent(pair)] = '';\n    } else {\n      object[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(\n        pair.slice(pos + 1)\n      );\n    }\n  }\n\n  return object;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': qs.stringify,\n  'application/json': safeStringify\n};\n\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(string_) {\n  const lines = string_.split(/\\r?\\n/);\n  const fields = {};\n  let index;\n  let line;\n  let field;\n  let value;\n\n  for (let i = 0, length_ = lines.length; i < length_; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n\n    field = line.slice(0, index).toLowerCase();\n    value = trim(line.slice(index + 1));\n    fields[field] = value;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/i.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(request_) {\n  this.req = request_;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text =\n    (this.req.method !== 'HEAD' &&\n      (this.xhr.responseType === '' || this.xhr.responseType === 'text')) ||\n    typeof this.xhr.responseType === 'undefined'\n      ? this.xhr.responseText\n      : null;\n  this.statusText = this.req.xhr.statusText;\n  let { status } = this.xhr;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  this._setStatusProperties(status);\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers;\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (this.text === null && request_._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body =\n      this.req.method === 'HEAD'\n        ? null\n        : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n}\n\nmixin(Response.prototype, ResponseBase.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function (string_) {\n  let parse = request.parse[this.type];\n  if (this.req._parser) {\n    return this.req._parser(this, string_);\n  }\n\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n\n  return parse && string_ && (string_.length > 0 || string_ instanceof Object)\n    ? parse(string_)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function () {\n  const { req } = this;\n  const { method } = req;\n  const { url } = req;\n\n  const message = `cannot ${method} ${url} (${this.status})`;\n  const error = new Error(message);\n  error.status = this.status;\n  error.method = method;\n  error.url = url;\n\n  return error;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  const self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', () => {\n    let error = null;\n    let res = null;\n\n    try {\n      res = new Response(self);\n    } catch (err) {\n      error = new Error('Parser is unable to parse the response');\n      error.parse = true;\n      error.original = err;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        error.rawResponse =\n          typeof self.xhr.responseType === 'undefined'\n            ? self.xhr.responseText\n            : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        error.status = self.xhr.status ? self.xhr.status : null;\n        error.statusCode = error.status; // backwards-compat only\n      } else {\n        error.rawResponse = null;\n        error.status = null;\n      }\n\n      return self.callback(error);\n    }\n\n    self.emit('response', res);\n\n    let new_error;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_error = new Error(\n          res.statusText || res.text || 'Unsuccessful HTTP response'\n        );\n      }\n    } catch (err) {\n      new_error = err; // ok() callback can throw\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_error) {\n      new_error.original = error;\n      new_error.response = res;\n      new_error.status = new_error.status || res.status;\n      self.callback(new_error, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\n// eslint-disable-next-line new-cap\nEmitter(Request.prototype);\n\nmixin(Request.prototype, RequestBase.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function (user, pass, options) {\n  if (arguments.length === 1) pass = '';\n  if (typeof pass === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n\n  const encoder = options.encoder\n    ? options.encoder\n    : (string) => {\n        if (typeof btoa === 'function') {\n          return btoa(string);\n        }\n\n        throw new Error('Cannot use basic auth, btoa is not a function');\n      };\n\n  return this._auth(user, pass, options, encoder);\n};\n\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.query = function (value) {\n  if (typeof value !== 'string') value = serialize(value);\n  if (value) this._query.push(value);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function (field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n\n  return this;\n};\n\nRequest.prototype._getFormData = function () {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function (error, res) {\n  if (this._shouldRetry(error, res)) {\n    return this._retry();\n  }\n\n  const fn = this._callback;\n  this.clearTimeout();\n\n  if (error) {\n    if (this._maxRetries) error.retries = this._retries - 1;\n    this.emit('error', error);\n  }\n\n  fn(error, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function () {\n  const error = new Error(\n    'Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.'\n  );\n  error.crossDomain = true;\n\n  error.status = this.status;\n  error.method = this.method;\n  error.url = this.url;\n\n  this.callback(error);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.agent = function () {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\n\nRequest.prototype.ca = Request.prototype.agent;\nRequest.prototype.buffer = Request.prototype.ca;\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.write = () => {\n  throw new Error(\n    'Streaming is not supported in browser version of superagent'\n  );\n};\n\nRequest.prototype.pipe = Request.prototype.write;\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\nRequest.prototype._isHost = function (object) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return (\n    object &&\n    typeof object === 'object' &&\n    !Array.isArray(object) &&\n    Object.prototype.toString.call(object) !== '[object Object]'\n  );\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function (fn) {\n  if (this._endCalled) {\n    console.warn(\n      'Warning: .end() was called twice. This is not supported in superagent'\n    );\n  }\n\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // querystring\n  this._finalizeQueryString();\n\n  this._end();\n};\n\nRequest.prototype._setUploadTimeout = function () {\n  const self = this;\n\n  // upload timeout it's wokrs only if deadline timeout is off\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(() => {\n      self._timeoutError(\n        'Upload timeout of ',\n        self._uploadTimeout,\n        'ETIMEDOUT'\n      );\n    }, this._uploadTimeout);\n  }\n};\n\n// eslint-disable-next-line complexity\nRequest.prototype._end = function () {\n  if (this._aborted)\n    return this.callback(\n      new Error('The request has been aborted even before .end() was called')\n    );\n\n  const self = this;\n  this.xhr = request.getXHR();\n  const { xhr } = this;\n  let data = this._formData || this._data;\n\n  this._setTimeouts();\n\n  // state change\n  xhr.addEventListener('readystatechange', () => {\n    const { readyState } = xhr;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n\n    if (readyState !== 4) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    let status;\n    try {\n      status = xhr.status;\n    } catch (err) {\n      status = 0;\n    }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n\n    self.emit('end');\n  });\n\n  // progress\n  const handleProgress = (direction, e) => {\n    if (e.total > 0) {\n      e.percent = (e.loaded / e.total) * 100;\n\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n      if (xhr.upload) {\n        xhr.upload.addEventListener(\n          'progress',\n          handleProgress.bind(null, 'upload')\n        );\n      }\n    } catch (err) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  }\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (\n    !this._formData &&\n    this.method !== 'GET' &&\n    this.method !== 'HEAD' &&\n    typeof data !== 'string' &&\n    !this._isHost(data)\n  ) {\n    // serialize stuff\n    const contentType = this._header['content-type'];\n    let serialize =\n      this._serializer ||\n      request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (const field in this.header) {\n    if (this.header[field] === null) continue;\n\n    if (hasOwn(this.header, field))\n      xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\n\nrequest.agent = () => new Agent();\n\nfor (const method of ['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE']) {\n  Agent.prototype[method.toLowerCase()] = function (url, fn) {\n    const request_ = new request.Request(method, url);\n    this._setDefaults(request_);\n    if (fn) {\n      request_.end(fn);\n    }\n\n    return request_;\n  };\n}\n\nAgent.prototype.del = Agent.prototype.delete;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = (url, data, fn) => {\n  const request_ = request('GET', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.query(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = (url, data, fn) => {\n  const request_ = request('HEAD', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.query(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = (url, data, fn) => {\n  const request_ = request('OPTIONS', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, data, fn) {\n  const request_ = request('DELETE', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n}\n\nrequest.del = del;\nrequest.delete = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = (url, data, fn) => {\n  const request_ = request('PATCH', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = (url, data, fn) => {\n  const request_ = request('POST', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = (url, data, fn) => {\n  const request_ = request('PUT', url);\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) request_.send(data);\n  if (fn) request_.end(fn);\n  return request_;\n};\n"]},"metadata":{},"sourceType":"script"}